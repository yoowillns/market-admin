<template name="products">
    {{#if currentUser }}
        {{>productsList}}
    {{else}}
        {{>productsError}}
    {{/if}}
</template>

<template name="productsError">
    <div class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Alerta!</strong> Inicie session para acceder a esta pagina
    </div>
</template>

<template name="productsList">
    <h2>Lista de productos</h2>
    <table class="table">
        <thead>
        <tr>
            <th>Nombre producto</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>AÃ±adir a Carrito</th>
        </tr>
        </thead>
        <tbody>
        {{#each productos }}
            <tr>
                <td>{{nombre}}</td>
                <td>{{cantidad}}</td>
                <td>{{precio}}</td>
                <td>
                    <div class="btn-group">
                        <button type="button" class="btn btn-xs btn-success carrito" idProducto="{{_id}}"><span class="glyphicon glyphicon-shopping-cart"></span></button>
                    </div>
                </td>
            </tr>
        {{/each}}
        </tbody>
    </table>
</template>

<template name="carrito">
    <h4>Productos en carrito: {{ getCarrito }}</h4>
    {{#if carritoVacio }}
        <label>Sin registros</label>
    {{else}}
        <button type="button" class="btn btn-success" id="bcarrito">Registrar Pedido</button>
    {{/if}}
</template>